/* empty css            */import{a as f}from"./axios-L6U4YIEh.js";import{_ as E}from"./PaginationComponent-ro_xf0lZ.js";import{k as T,i as l,o as A,l as H,r as v,a as o,b as a,e as c,d as e,w as p,n as y,u as x,F as m,m as w,f as k,t as r}from"./index-gkNKv6pX.js";var L={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexVueW8HW/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const R=e("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"400px"}},[e("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://images.unsplash.com/photo-1617110668704-3992ecde48ff?w=1950&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fHpvbyUyMGZyaWVuZHxlbnwwfHwwfHx8MA%3D%3D)","background-position":"center center",opacity:"0.1"}}),e("h2",{class:"fw-bold"},"挑選一些自己喜歡的商品吧！")],-1),D={class:"container mt-md-5 mt-3 mb-7"},M={class:"row"},O={class:"col-md-4"},j={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},q={class:"card border-0"},B=e("div",{class:"card-header py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[e("div",{class:"d-flex justify-content-between align-items-center pe-1"},[e("h4",{class:"mb-0"},"分類")])],-1),C={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},N={class:"card-body py-0"},U={class:"list-unstyled"},W={class:"col-md-8"},z={class:"row"},I={class:"card border-0 mb-4 position-relative position-relative"},S=["src"],F=e("a",{href:"#",class:"text-dark"},null,-1),Z={class:"card-body p-0"},G={class:"mb-2 mt-3"},Y={class:"card-text mb-0"},J={class:"fw-bold me-3"},K={class:"text-muted"},Q=e("p",{class:"text-muted mt-3"},null,-1),X={class:"d-flex justify-content-center"},ee={class:"pagination"},ie={__name:"ProductsView",setup(te){const i=T(),{VITE_APP_URL:P,VITE_APP_PATH:V}=L,h=l([]),b=l({}),$=l(["動物","食物"]),d=l(!1),_=(n=1)=>{d.value=!0;const{category:g=""}=i.query;f.get(`${P}/api/${V}/products?category=${g}&page=${n}`).then(s=>{h.value=s.data.products,b.value=s.data.pagination}).catch(s=>alert(s.response.data.message)).finally(()=>{d.value=!1})};return A(()=>{const n=document.cookie.replace(/(?:(?:^|.*;\s*)WillyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");f.defaults.headers.common.Authorization=n,_()}),H(()=>i.query,()=>{_()}),(n,g)=>{const s=v("VueLoading"),u=v("RouterLink");return o(),a(m,null,[c(s,{active:d.value,"z-index":1060},null,8,["active"]),R,e("div",D,[e("div",M,[e("div",O,[e("div",j,[e("div",q,[B,e("div",C,[e("div",N,[e("ul",U,[e("li",null,[c(u,{to:"/products",class:y(["py-2 d-block text-muted",{activeCategory:!x(i).query.category}])},{default:p(()=>[k("全部商品")]),_:1},8,["class"])]),(o(!0),a(m,null,w($.value,t=>(o(),a("li",{key:"categories"+t},[c(u,{to:`/products?category=${t}`,class:y(["py-2 d-block text-muted",{activeCategory:x(i).query.category===t}])},{default:p(()=>[k(r(t),1)]),_:2},1032,["to","class"])]))),128))])])])])])]),e("div",W,[e("div",z,[(o(!0),a(m,null,w(h.value,t=>(o(),a("div",{class:"col-md-6",key:t.id},[c(u,{class:"mb-0 mt-3",to:`/product/${t.id}`},{default:p(()=>[e("div",I,[e("img",{src:t.imageUrl,class:"card-img-top rounded-0 object-fit-cover",alt:"商品圖片",height:"500"},null,8,S),F,e("div",Z,[e("h4",G,r(t.title),1),e("p",Y,[e("span",J," NT$"+r(t.price),1),e("span",K,[e("del",null,"NT$"+r(t.origin_price),1)])]),Q])])]),_:2},1032,["to"])]))),128))])]),e("nav",X,[e("ul",ee,[c(E,{pages:b.value,onEmitPages:_},null,8,["pages"])])])])])],64)}}};export{ie as default};
