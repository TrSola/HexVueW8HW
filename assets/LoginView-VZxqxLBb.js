import{p as m,i as _,a as f,b as v,d as e,y as a,v as i,x as l}from"./index-gkNKv6pX.js";import{a as b}from"./axios-L6U4YIEh.js";var h={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexVueW8HW/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const w={class:"container"},x={class:"row justify-content-center"},g=e("h1",{class:"h3 mb-3 text-center"},"請先登入",-1),k={class:"col-8"},V={class:"form-floating"},P=e("label",{for:"email"},"請輸入帳號",-1),y={class:"form-floating"},E=e("label",{for:"password"},"請輸入密碼",-1),A={__name:"LoginView",setup(T){const n=m(),t=_({username:"",password:""}),{VITE_APP_URL:c}=h,d=()=>{const r=`${c}/admin/signin`;b.post(r,t.value).then(s=>{const{expired:o,token:u}=s.data;document.cookie=`WillyToken=${u};expires=${new Date(o)};`,n.push("/admin")}).catch(s=>alert(s.response.data.message))},p=()=>{n.push("/")};return(r,s)=>(f(),v("div",w,[e("div",x,[g,e("div",k,[e("form",{class:"form-signin",onSubmit:s[2]||(s[2]=a(()=>{},["prevent"]))},[e("div",V,[i(e("input",{type:"email",class:"form-control mb-3",id:"email",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.username=o),placeholder:"xxx@gmail.com"},null,512),[[l,t.value.username]]),P]),e("div",y,[i(e("input",{type:"password",id:"password",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=o=>t.value.password=o),placeholder:"password",required:""},null,512),[[l,t.value.password]]),E]),e("button",{class:"btn btn-dark btn-lg w-100 mt-3",type:"button",onClick:a(d,["prevent"])}," 登入 "),e("button",{class:"btn btn-light btn-lg w-100 mt-3",type:"button",onClick:a(p,["prevent"])}," 回首頁 ")],32)])])]))}};export{A as default};
