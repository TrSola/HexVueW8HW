import{a as v}from"./axios-L6U4YIEh.js";import{_ as E}from"./PaginationComponent-hROaZJq1.js";import{u as T,r as l,o as L,w as A,b as f,d as o,e as a,h as c,f as e,i as p,n as y,k as x,F as m,p as k,j as P,t as i}from"./index-XaIoujKb.js";var R={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexVueW8HW/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const H=e("div",{class:"position-relative d-flex align-items-center justify-content-center productsHeader"},[e("div",{class:"position-absolute productsHeaderImg"}),e("h2",{class:"fw-bold"},"挑選一些自己喜歡的商品吧！")],-1),O={class:"container mt-md-5 mt-3 mb-7"},j={class:"row"},C={class:"col-md-4"},D={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},I={class:"card border-0"},N=e("div",{class:"card-header py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[e("div",{class:"d-flex justify-content-between align-items-center pe-1"},[e("h4",{class:"mb-0"},"分類")])],-1),q={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},B={class:"card-body py-0"},S={class:"list-unstyled"},U={class:"col-md-8"},z={class:"row"},W={class:"card border-0 mb-4 position-relative position-relative"},F=["src"],M=e("a",{href:"#",class:"text-dark"},null,-1),G={class:"card-body p-0"},J={class:"mb-2 mt-3"},K={class:"card-text mb-0"},Q={class:"fw-bold me-3"},X={class:"text-muted"},Y=e("p",{class:"text-muted mt-3"},null,-1),Z={class:"d-flex justify-content-center"},ee={class:"pagination"},ce={__name:"ProductsView",setup(te){const n=T(),{VITE_APP_URL:V,VITE_APP_PATH:$}=R,h=l([]),g=l({}),w=l(["動物","食物"]),r=l(!1),_=(d=1)=>{r.value=!0;const{category:b=""}=n.query;v.get(`${V}/api/${$}/products?category=${b}&page=${d}`).then(s=>{h.value=s.data.products,g.value=s.data.pagination}).catch(s=>alert(s.response.data.message)).finally(()=>{r.value=!1})};return L(()=>{const d=document.cookie.replace(/(?:(?:^|.*;\s*)WillyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");v.defaults.headers.common.Authorization=d,_()}),A(()=>n.query,()=>{_()}),(d,b)=>{const s=f("VueLoading"),u=f("RouterLink");return o(),a(m,null,[c(s,{active:r.value,"z-index":1060},null,8,["active"]),H,e("div",O,[e("div",j,[e("div",C,[e("div",D,[e("div",I,[N,e("div",q,[e("div",B,[e("ul",S,[e("li",null,[c(u,{to:"/products",class:y(["py-2 d-block text-muted",{activeCategory:!x(n).query.category}])},{default:p(()=>[P("全部商品")]),_:1},8,["class"])]),(o(!0),a(m,null,k(w.value,t=>(o(),a("li",{key:"categories"+t},[c(u,{to:`/products?category=${t}`,class:y(["py-2 d-block text-muted",{activeCategory:x(n).query.category===t}])},{default:p(()=>[P(i(t),1)]),_:2},1032,["to","class"])]))),128))])])])])])]),e("div",U,[e("div",z,[(o(!0),a(m,null,k(h.value,t=>(o(),a("div",{class:"col-md-6",key:t.id},[c(u,{class:"mb-0 mt-3",to:`/product/${t.id}`},{default:p(()=>[e("div",W,[e("img",{src:t.imageUrl,class:"card-img-top rounded-0 object-fit-cover",alt:"商品圖片",height:"500"},null,8,F),M,e("div",G,[e("h4",J,i(t.title),1),e("p",K,[e("span",Q," NT$"+i(t.price),1),e("span",X,[e("del",null,"NT$"+i(t.origin_price),1)])]),Y])])]),_:2},1032,["to"])]))),128))])]),e("nav",Z,[e("ul",ee,[c(E,{pages:g.value,onEmitPages:_},null,8,["pages"])])])])])],64)}}};export{ce as default};
